/*
 * NextFlow Configuration File
 * Protein-Ligand Binding Simulation Pipeline
 */

// Manifest information
manifest {
    name            = 'Biomed-NextFlow'
    author          = 'Demo Pipeline'
    description     = 'Simple protein-ligand binding simulation demo'
    mainScript      = 'main.nf'
    version         = '1.0.0'
    nextflowVersion = '>=22.0.0'
}

// Default parameters
params {
    // Input files
    ligands = "${projectDir}/data/ligands.csv"
    protein = "${projectDir}/data/protein.pdb"

    // Output directory
    outdir = "${projectDir}/output"

    // Help message
    help = false
}

// Process configuration
process {
    // Default process settings
    errorStrategy = 'terminate'

    // Resource requirements (minimal for demo)
    cpus = 1
    memory = '1 GB'
    time = '10m'

    withName: PARSE_LIGANDS {
        cpus = 1
        memory = '512 MB'
    }

    withName: CALCULATE_BINDING {
        cpus = 1
        memory = '1 GB'
    }

    withName: VISUALIZE_RESULTS {
        cpus = 1
        memory = '512 MB'
    }
}

// Execution profiles
profiles {
    standard {
        process.executor = 'local'
    }

    docker {
        docker.enabled = true
        process.container = 'python:3.9-slim'
    }

    conda {
        conda.enabled = true
        process.conda = 'python=3.9'
    }
}

// Report settings
timeline {
    enabled = true
    file = "${params.outdir}/timeline.html"
}

report {
    enabled = true
    file = "${params.outdir}/report.html"
}

trace {
    enabled = true
    file = "${params.outdir}/trace.txt"
}

dag {
    enabled = true
    file = "${params.outdir}/dag.html"
}
